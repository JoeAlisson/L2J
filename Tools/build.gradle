plugins {
    id "java"
    id "idea"
    id "eclipse"
}

dependencies {
    compile project(':Commons')
    compile project(':Mmocore') // runtime
    compile project(":Loginserver")
    compile project(":Gameserver")

    compile fileTree(dir: 'lib', include: '*.jar')

    //runtime javolution-5.5.1.jar
    //runtime c3p0-0.9.2-pre1.jar
    //runtime mchange-commons-0.2.jar
    //runtime mysql-connector-java-5.1.18-bin.jar
}

configurations.all {
    transitive = false
}

jar {
    baseName 'l2j-tools'

    exclude('config/**')
}

task zip(type: Zip, group: "Archive", description: "Zip Gameserver") {
    into('lib') {
        from([jar, configurations.compile])
    }

    from('bin')
    from(sourceSets.main.resources)

    destinationDir project.buildDir
}

build.finalizedBy(zip)